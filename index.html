<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ø£Ø³Ø·ÙˆØ±Ø© Ø§Ù„Ù†Ù‚Ø±Ø§Øª Ø§Ù„Ø£Ø³Ø·ÙˆØ±ÙŠØ© âš”ï¸</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@700;900&display=swap');
        
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body {
            margin: 0; padding: 0; height: 100vh;
            display: flex; flex-direction: column; align-items: center;
            justify-content: space-between; background: #0f172a;
            color: white; font-family: 'Cairo', sans-serif; overflow: hidden;
        }

        /* Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¹Ù„ÙˆÙŠØ© */
        .score-board {
            width: 90%; background: rgba(30, 41, 59, 0.7);
            margin-top: 20px; padding: 15px; border-radius: 20px;
            text-align: center; border: 2px solid #eab308;
            box-shadow: 0 0 20px rgba(234, 179, 8, 0.2);
        }
        #gold-count { font-size: 3.5rem; color: #eab308; margin: 0; font-weight: 900; }
        .label { color: #94a3b8; font-size: 0.9rem; }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ù…Ø±ÙƒØ²ÙŠØ© */
        .click-zone { flex-grow: 1; display: flex; flex-direction: column; justify-content: center; align-items: center; }
        
        .main-coin {
            width: 220px; height: 220px; position: relative; cursor: pointer;
            background: radial-gradient(circle, #facc15 0%, #ca8a04 100%);
            border-radius: 50%; border: 10px solid #854d0e;
            box-shadow: 0 15px 0 #451a03, 0 30px 50px rgba(0,0,0,0.5);
            display: flex; align-items: center; justify-content: center;
            transition: transform 0.05s ease;
        }
        .main-coin::after { content: "1"; font-size: 8rem; color: rgba(0,0,0,0.1); font-weight: 900; }
        
        .main-coin:active {
            transform: translateY(10px);
            box-shadow: 0 5px 0 #451a03, 0 10px 20px rgba(0,0,0,0.5);
        }

        .power-tag {
            margin-top: 30px; background: #eab308; color: #000;
            padding: 5px 25px; border-radius: 50px; font-weight: 900;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        }

        /* Ø§Ù„Ù…ØªØ¬Ø± Ø§Ù„Ø³ÙÙ„ÙŠ */
        .shop-nav {
            width: 100%; display: grid; grid-template-columns: 1fr 1fr 1fr;
            gap: 10px; padding: 15px; background: #1e293b; border-top: 3px solid #334155;
        }
        .item {
            background: #0f172a; border: 1px solid #334155;
            padding: 10px; border-radius: 12px; text-align: center;
        }
        .item.can-buy { border-color: #eab308; background: #1e1b4b; }
        .item b { display: block; color: #eab308; font-size: 1rem; }
        .item span { font-size: 0.75rem; color: #64748b; }

        .floating-num {
            position: absolute; color: #eab308; font-size: 2.5rem;
            font-weight: 900; pointer-events: none;
            animation: moveUp 0.8s ease-out forwards;
        }
        @keyframes moveUp { 0% { transform: translateY(0); opacity: 1; } 100% { transform: translateY(-150px); opacity: 0; } }
    </style>
</head>
<body onload="loadData()">

    <audio id="s-click" src="https://www.myinstants.com/media/sounds/coin-drop-1.mp3"></audio>
    <audio id="s-buy" src="https://www.myinstants.com/media/sounds/level-up-1.mp3"></audio>

    <div class="score-board">
        <div id="gold-count">0</div>
        <div class="label">Ø°Ù‡Ø¨ Ø§Ù„Ø£Ø³Ø§Ø·ÙŠØ± ğŸ’°</div>
    </div>

    <div class="click-zone">
        <div class="main-coin" onclick="handleTap(event)"></div>
        <div class="power-tag">Ø§Ù„Ù‚ÙˆØ©: <span id="pwr-val">1</span> âš”ï¸</div>
    </div>

    <div class="shop-nav">
        <div class="item" id="u0" onclick="buy(0)"><b>Ø®Ù†Ø¬Ø±</b><span id="c0">50 ğŸ’°</span></div>
        <div class="item" id="u1" onclick="buy(1)"><b>Ø³ÙŠÙ</b><span id="c1">300 ğŸ’°</span></div>
        <div class="item" id="u2" onclick="buy(2)"><b>ÙØ£Ø³</b><span id="c2">1000 ğŸ’°</span></div>
    </div>

    <script>
        let gold = 0; let pwr = 1;
        let prices = [50, 300, 1000];
        let boost = [1, 10, 50];

        function handleTap(e) {
            gold += pwr;
            document.getElementById('s-click').currentTime = 0;
            document.getElementById('s-click').play().catch(()=>{});
            
            const n = document.createElement('div');
            n.className = 'floating-num'; n.innerText = `+${pwr}`;
            n.style.left = e.pageX + 'px'; n.style.top = e.pageY + 'px';
            document.body.appendChild(n);
            setTimeout(() => n.remove(), 800);
            
            refresh(); save();
        }

        function buy(i) {
            if (gold >= prices[i]) {
                gold -= prices[i]; pwr += boost[i];
                prices[i] = Math.floor(prices[i] * 1.8);
                document.getElementById('s-buy').play().catch(()=>{});
                refresh(); save();
            }
        }

        function refresh() {
            document.getElementById('gold-count').innerText = Math.floor(gold);
            document.getElementById('pwr-val').innerText = pwr;
            for(let i=0; i<3; i++) {
                document.getElementById('c'+i).innerText = prices[i] + ' ğŸ’°';
                document.getElementById('u'+i).className = gold >= prices[i] ? 'item can-buy' : 'item';
            }
        }

        function save() { localStorage.setItem('game_vfinal', JSON.stringify({gold, pwr, prices})); }
        function loadData() {
            const d = JSON.parse(localStorage.getItem('game_vfinal'));
            if(d) { gold = d.gold; pwr = d.pwr; prices = d.prices; }
            refresh();
        }
    </script>
</body>
</html>
