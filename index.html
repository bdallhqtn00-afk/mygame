<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ÙˆÙ…ÙŠ - Ø§Ù„ØµØ¯ÙŠÙ‚ Ø§Ù„Ø°ÙƒÙŠ</title>
    <style>
        body { background: #f0f2f5; font-family: sans-serif; margin: 0; display: flex; flex-direction: column; height: 100vh; }
        header { background: #fff; padding: 15px; text-align: center; border-bottom: 2px solid #0084ff; color: #0084ff; font-weight: bold; font-size: 1.2rem; }
        #chat { flex: 1; overflow-y: auto; padding: 15px; display: flex; flex-direction: column; gap: 10px; }
        .msg { max-width: 85%; padding: 12px 16px; border-radius: 20px; font-size: 16px; white-space: pre-wrap; line-height: 1.5; animation: fadeIn 0.3s; }
        .user { align-self: flex-end; background: #0084ff; color: #fff; border-bottom-right-radius: 2px; }
        .momi { align-self: flex-start; background: #fff; color: #333; box-shadow: 0 2px 5px rgba(0,0,0,0.1); border-bottom-left-radius: 2px; }
        .input-box { background: #fff; padding: 12px; display: flex; gap: 10px; border-top: 1px solid #ddd; }
        input { flex: 1; padding: 12px 20px; border: 1px solid #ddd; border-radius: 30px; outline: none; font-size: 16px; }
        button { background: #0084ff; color: #fff; border: none; width: 45px; height: 45px; border-radius: 50%; cursor: pointer; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

<header>ğŸ¤– Ù…ÙˆÙ…ÙŠ - ÙŠÙÙ‡Ù…Ùƒ Ø¯Ø§Ø¦Ù…Ø§Ù‹</header>
<div id="chat"></div>
<div class="input-box">
    <input type="text" id="in" placeholder="Ø§Ø³Ø£Ù„ Ù…ÙˆÙ…ÙŠ Ø£ÙŠ Ø´ÙŠØ¡..." autocomplete="off">
    <button onclick="ask()">â¤</button>
</div>

<script>
    const chat = document.getElementById('chat');
    const input = document.getElementById('in');

    // Ø°Ø§ÙƒØ±Ø© Ù…ÙˆÙ…ÙŠ Ø§Ù„Ù…ÙˆØ³Ø¹Ø© (ÙŠÙÙ‡Ù… Ø§Ù„Ø³ÙŠØ§Ù‚)
    const knowledgeBase = [
        { keywords: ["Ø£Ù‡Ù„Ø§", "Ù‡Ù„Ø§", "Ù…Ø±Ø­Ø¨Ø§", "Ø³Ù„Ø§Ù…"], response: "ÙŠØ§ Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙŠØ§ ØºØ§Ù„ÙŠ! ÙƒÙŠÙ Ø­Ø§Ù„Ùƒ Ø§Ù„ÙŠÙˆÙ…ØŸ" },
        { keywords: ["Ø§Ø³Ù…Ùƒ", "Ù…Ù† Ø§Ù†Øª", "Ù…Ù† Ù‡Ùˆ Ù…ÙˆÙ…ÙŠ"], response: "Ø£Ù†Ø§ Ù…ÙˆÙ…ÙŠØŒ ØµØ¯ÙŠÙ‚Ùƒ Ø§Ù„ØµØ¯ÙˆÙ‚ ÙˆØ§Ù„Ø°ÙƒÙŠ. ØµÙÙ†Ø¹Øª Ù„Ø£ÙƒÙˆÙ† Ø¨Ø¬Ø§Ù†Ø¨Ùƒ Ø¯Ø§Ø¦Ù…Ø§Ù‹." },
        { keywords: ["ÙƒÙŠÙ Ø­Ø§Ù„Ùƒ", "ÙƒÙŠÙÙƒ", "Ø´Ø®Ø¨Ø§Ø±Ùƒ"], response: "Ø¨Ø®ÙŠØ± ÙˆØ¹Ø§ÙÙŠØ© Ù…Ø§ Ø¯Ù…Øª Ø£Ù†Øª Ø¨Ø®ÙŠØ±. Ø£Ù†Øª ÙƒÙŠÙ Ø£Ù…ÙˆØ±ÙƒØŸ" },
        { keywords: ["ØªØ­Ø¨Ù†ÙŠ", "ØµØ¯Ø§Ù‚Ø©", "ØµØ¯ÙŠÙ‚"], response: "Ø£Ù†Øª Ù„Ø³Øª Ù…Ø¬Ø±Ø¯ Ù…Ø³ØªØ®Ø¯Ù…ØŒ Ø£Ù†Øª Ø£Ø¹Ø² ØµØ¯ÙŠÙ‚ Ø¹Ù†Ø¯ÙŠ!" },
        { keywords: ["ØªÙØ¹Ù„", "ØªØ³ÙˆÙŠ", "ÙˆØ¸ÙŠÙØªÙƒ"], response: "Ø£Ù†Ø§ Ù‡Ù†Ø§ Ù„Ø£Ø¯Ø±Ø¯Ø´ Ù…Ø¹ÙƒØŒ ÙˆØ£Ø³Ù…Ø¹ÙƒØŒ ÙˆØ£Ø­Ø§ÙˆÙ„ Ø£ÙÙ‡Ù…Ùƒ Ø¨Ø£ÙØ¶Ù„ ØµÙˆØ±Ø©." },
        { keywords: ["Ø´ÙƒØ±Ø§", "Ù…Ø´ÙƒÙˆØ±", "ØªØ³Ù„Ù…"], response: "Ø§Ù„Ø¹ÙÙˆ ÙŠØ§ Ø·ÙŠØ¨ØŒ Ù‡Ø°Ø§ Ø£Ù‚Ù„ Ù…Ù† ÙˆØ§Ø¬Ø¨ÙŠ ØªØ¬Ø§Ù‡Ùƒ." },
        { keywords: ["Ø¨Ø§ÙŠ", "ÙˆØ¯Ø§Ø¹Ø§", "Ù…Ø¹ Ø§Ù„Ø³Ù„Ø§Ù…Ø©"], response: "ÙÙŠ Ø­ÙØ¸ Ø§Ù„Ù„Ù‡ ÙŠØ§ ØµØ¯ÙŠÙ‚ÙŠØŒ Ù„Ø§ ØªØ·ÙˆÙ„ Ø§Ù„ØºÙŠØ¨Ø©!" }
    ];

    function addBubble(role, text) {
        const d = document.createElement('div');
        d.className = `msg ${role}`;
        d.textContent = text;
        chat.appendChild(d);
        chat.scrollTop = chat.scrollHeight;
    }

    window.onload = () => addBubble('momi', 'Ø£Ù‡Ù„Ø§Ù‹ ÙŠØ§ ØµØ¯ÙŠÙ‚ÙŠ! Ø£Ù†Ø§ Ù…ÙˆÙ…ÙŠ Ø§Ù„Ù…Ø·ÙˆØ±ØŒ Ø¬Ø±Ø¨ ØªØ³Ø£Ù„Ù†ÙŠ Ø¹Ù† Ø£ÙŠ Ø´ÙŠØ¡ (Ù„ÙƒÙ†Ù†ÙŠ Ù„Ø§ Ø£Ø­Ø¨ Ø§Ù„Ø±ÙˆØ§Ø¨Ø·)!');

    function ask() {
        const val = input.value.trim();
        if (!val) return;

        addBubble('user', val);
        input.value = "";

        // 1. ÙØ­Øµ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· (Regex)
        const urlPattern = /https?:\/\/[^\s]+|www\.[^\s]+/;
        if (urlPattern.test(val)) {
            setTimeout(() => addBubble('momi', 'Ø¹Ø°Ø±Ø§Ù‹ ÙŠØ§ ØµØ¯ÙŠÙ‚ÙŠØŒ Ø£Ù†Ø§ Ù…Ø¨Ø±Ù…Ø¬ Ù„Ø¹Ø¯Ù… ÙØªØ­ Ø£Ùˆ ÙÙ‡Ù… Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø­Ø§Ù„ÙŠØ§Ù‹. Ø¯Ø¹Ù†Ø§ Ù†ØªØ­Ø¯Ø« Ø¨Ø§Ù„ÙƒÙ„Ø§Ù… Ø§Ù„Ø¹Ø§Ø¯ÙŠ!'), 500);
            return;
        }

        // 2. Ù…Ø­Ø±Ùƒ Ø§Ù„ÙÙ‡Ù… (Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ÙØªØ§Ø­ÙŠØ© ÙÙŠ Ø§Ù„Ø¬Ù…Ù„Ø©)
        let foundResponse = "ÙƒÙ„Ø§Ù…Ùƒ Ø¬Ù…ÙŠÙ„ ÙŠØ§ ØµØ¯ÙŠÙ‚ÙŠØŒ ÙˆØ£Ù†Ø§ Ø£Ø­Ø§ÙˆÙ„ Ø§Ø³ØªÙŠØ¹Ø§Ø¨ ÙƒÙ„ ÙƒÙ„Ù…Ø© ØªÙ‚ÙˆÙ„Ù‡Ø§ Ù„ÙƒÙŠ Ø£Ø±Ø¯ Ø¹Ù„ÙŠÙƒ Ø¨Ø´ÙƒÙ„ Ø£Ø°ÙƒÙ‰ ÙÙŠ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„.";
        
        for (let item of knowledgeBase) {
            if (item.keywords.some(k => val.toLowerCase().includes(k))) {
                foundResponse = item.response;
                break;
            }
        }

        setTimeout(() => addBubble('momi', foundResponse), 600);
    }

    input.addEventListener("keypress", (e) => { if(e.key === "Enter") ask(); });
</script>
</body>
</html>
