<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„Ø¹Ø¨Ø© Ù†Ù‚Ø±Ø§Øª Ø§Ù„Ø°Ù‡Ø¨ - Ø­ÙØ¸ Ø§Ù„ØªÙ‚Ø¯Ù… ğŸ’¾</title>
    <style>
        body {
            background: radial-gradient(circle, #1a1a2e, #16213e);
            color: white; font-family: 'Arial', sans-serif;
            text-align: center; height: 100vh; margin: 0;
            display: flex; flex-direction: column; justify-content: center; align-items: center; user-select: none;
        }
        #score-container { font-size: 3rem; margin-bottom: 5px; color: #f1c40f; text-shadow: 0 0 20px rgba(241,196,15,0.5); }
        #power-info { font-size: 1.1rem; color: #bdc3c7; margin-bottom: 25px; }
        #coin {
            width: 180px; height: 180px;
            background: linear-gradient(45deg, #f1c40f, #f39c12);
            border-radius: 50%; box-shadow: 0 0 50px rgba(241, 196, 15, 0.4);
            display: flex; justify-content: center; align-items: center;
            font-size: 4rem; cursor: pointer; transition: transform 0.05s; border: 8px solid #d4ac0d;
        }
        #coin:active { transform: scale(0.92); }
        #shop-btn {
            margin-top: 30px; background: #27ae60; color: white;
            padding: 12px 30px; border: none; border-radius: 25px;
            font-size: 1.2rem; cursor: pointer; font-weight: bold;
        }
        #shop-menu {
            display: none; position: fixed; top: 50%; left: 50%;
            transform: translate(-50%, -50%); background: #0f3460;
            padding: 20px; border-radius: 20px; border: 2px solid #f1c40f;
            width: 300px; z-index: 100; box-shadow: 0 0 100px rgba(0,0,0,0.8);
        }
        .upgrade-item {
            background: #16213e; margin: 10px 0; padding: 12px;
            border-radius: 12px; display: flex; justify-content: space-between; align-items: center;
        }
        .buy-btn { background: #e67e22; border: none; padding: 8px; border-radius: 8px; color: white; cursor: pointer; }
        .buy-btn:disabled { background: #555; opacity: 0.6; }
        #reset-btn { margin-top: 10px; font-size: 0.8rem; color: #95a5a6; cursor: pointer; text-decoration: underline; }
        .plus-one {
            position: absolute; color: #f1c40f; font-size: 2rem; font-weight: bold;
            animation: moveUp 0.6s ease-out; pointer-events: none;
        }
        @keyframes moveUp { 0% { transform: translateY(0); opacity: 1; } 100% { transform: translateY(-100px); opacity: 0; } }
    </style>
</head>
<body onload="loadGame()">

    <div id="score-container">ğŸ’° <span id="score">0</span></div>
    <div id="power-info">Ø§Ù„Ù‚ÙˆØ©: <span id="click-power">1</span></div>
    
    <div id="coin" onclick="clickCoin(event)">ğŸª™</div>

    <button id="shop-btn" onclick="toggleShop()">ğŸ›’ Ø§Ù„Ù…ØªØ¬Ø±</button>
    <div id="reset-btn" onclick="resetGame()">Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø§Ù„Ù„Ø¹Ø¨Ø© (Ù…Ø³Ø­ ÙƒÙ„ Ø´ÙŠØ¡)</div>

    <div id="shop-menu">
        <h3 style="color:#f1c40f;">ØªØ·ÙˆÙŠØ±Ø§ØªÙƒ</h3>
        <div class="upgrade-item">
            <span>Ù…Ø·Ø±Ù‚Ø© (Lvl <span id="lvl1">0</span>)<br><small id="cost1">20</small>ğŸ’°</span>
            <button class="buy-btn" id="btn1" onclick="buyUpgrade(1)">ØªØ·ÙˆÙŠØ±</button>
        </div>
        <div class="upgrade-item">
            <span>Ø®Ù†Ø¬Ø± (Lvl <span id="lvl2">0</span>)<br><small id="cost2">150</small>ğŸ’°</span>
            <button class="buy-btn" id="btn2" onclick="buyUpgrade(2)">ØªØ·ÙˆÙŠØ±</button>
        </div>
        <div class="upgrade-item">
            <span>Ø³ÙŠÙ (Lvl <span id="lvl3">0</span>)<br><small id="cost3">1000</small>ğŸ’°</span>
            <button class="buy-btn" id="btn3" onclick="buyUpgrade(3)">ØªØ·ÙˆÙŠØ±</button>
        </div>
        <button onclick="toggleShop()" style="background:none; border:none; color:red; cursor:pointer;">Ø¥ØºÙ„Ø§Ù‚</button>
    </div>

    <script>
        let score = 0;
        let clickPower = 1;
        let upgrades = {
            1: { cost: 20, powerGain: 1, level: 0 },
            2: { cost: 150, powerGain: 5, level: 0 },
            3: { cost: 1000, powerGain: 25, level: 0 }
        };

        function clickCoin(event) {
            score += clickPower;
            saveGame();
            updateUI();
            showEffect(event);
        }

        function buyUpgrade(id) {
            let up = upgrades[id];
            if (score >= up.cost) {
                score -= up.cost;
                up.level++;
                clickPower += up.powerGain;
                up.cost = Math.floor(up.cost * 1.6);
                saveGame();
                updateUI();
            }
        }

        // --- ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø­ÙØ¸ ÙˆØ§Ù„ØªØ­Ù…ÙŠÙ„ ---
        function saveGame() {
            const gameData = { score, clickPower, upgrades };
            localStorage.setItem('myClickerSave', JSON.stringify(gameData));
        }

        function loadGame() {
            const savedData = localStorage.getItem('myClickerSave');
            if (savedData) {
                const data = JSON.parse(savedData);
                score = data.score;
                clickPower = data.clickPower;
                upgrades = data.upgrades;
                updateUI();
            }
        }

        function resetGame() {
            if(confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ù…Ø³Ø­ ØªÙ‚Ø¯Ù…ÙƒØŸ")) {
                localStorage.removeItem('myClickerSave');
                location.reload();
            }
        }
        // -----------------------

        function updateUI() {
            document.getElementById('score').innerText = Math.floor(score);
            document.getElementById('click-power').innerText = clickPower;
            for (let id in upgrades) {
                document.getElementById('cost' + id).innerText = upgrades[id].cost;
                document.getElementById('lvl' + id).innerText = upgrades[id].level;
                document.getElementById('btn' + id).disabled = (score < upgrades[id].cost);
            }
        }

        function toggleShop() {
            const shop = document.getElementById('shop-menu');
            shop.style.display = (shop.style.display === 'block') ? 'none' : 'block';
        }

        function showEffect(e) {
            const plus = document.createElement('div');
            plus.innerText = '+' + clickPower;
            plus.className = 'plus-one';
            plus.style.left = e.pageX + 'px';
            plus.style.top = e.pageY + 'px';
            document.body.appendChild(plus);
            setTimeout(() => plus.remove(), 600);
        }
    </script>
</body>
</html>
